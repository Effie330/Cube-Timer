<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width initial-scale=1">
  <title>Timer</title>
  <link rel="stylesheet" href="styles.css">
  <header>
    <nav>
      <ul class="navLinks">
        <li><a href="graphTab.html">Graph</a></li>
        <li><a href="timerTab.html">Timer</a></li>
        <li><a href="solveTimesTab.html">Solve Times</a></li>
      </ul>
    </nav>
  </header>
</head>
<body>
  <link rel="stylesheet" href="styles.css">
  <div></div>
    <script>
      var timerRunning = false;

      document.body.onkeyup = function(e){
        if(timerRunning == false){
          if(e.keyCode == 32){
            let timeStart = Date.now();
            timeRunning = true;
          }
        } else {
          if(e.keyCode == 32){
            let timeStop = Date.now();
            timeRunning = false;
          }
        }
      }
      
      var timeStart = Date.now();
      //await onKe



      function getScramble(){
        let scramble= " ";
        
        //Setting the scramble length from 15-20
        let randomScrambleLength = Math.floor(Math.random() * 5)+15;

        let lastMove = -13, twoMovesAgo = -13;
        let duplicateCorrection = 0;
        for(let i=0; i<randomScrambleLength+duplicateCorrection; i++) {

          //picking a random int between 0-17 corresponging to a move on the cube
          let tempScrambleMoveInt = Math.floor(Math.random()*17);

          //checking if the current random move chosen is the same face as the last move
          if(Math.floor(tempScrambleMoveInt/3)  == lastMove || (Math.floor(tempScrambleMoveInt/3)  == twoMovesAgo)) {
            tempScrambleMoveInt = 20;
            duplicateCorrection  += 1;
          }

          //Switch case for each move then adding that move to the scramble string
          switch (tempScrambleMoveInt){
            case 0: 
              scramble = scramble + "U' ";
              twoMovesAgo  = lastMove;
              lastMove = 0;
            break;
          
            case 1:
              scramble = scramble + "U ";
              twoMovesAgo  = lastMove;
              lastMove = 0;
            break;
          
            case 2:
              scramble = scramble + "U2 ";
              twoMovesAgo  = lastMove;
              lastMove = 0;
            break;
          
            case 3: 
              scramble = scramble + "B' ";
              twoMovesAgo  = lastMove;
              lastMove = 1;
            break;
          
            case 4:
              scramble = scramble + "B ";
              twoMovesAgo  = lastMove;
              lastMove = 1;
            break;
          
            case 5:
              scramble = scramble + "B2 ";
              twoMovesAgo  = lastMove;  
              lastMove = 1;
            break;
          
            case 6:
              scramble = scramble + "F' ";
              twoMovesAgo  = lastMove;
              lastMove = 2;
            break;
          
            case 7:
              scramble = scramble + "F ";
              twoMovesAgo  = lastMove;
              lastMove = 2;
            break;
          
            case 8:
              scramble = scramble + "F2 ";
              twoMovesAgo  = lastMove;
              lastMove = 2;
            break;
          
            case 9:
              scramble = scramble + "L' ";
              twoMovesAgo  = lastMove;
              lastMove = 3;
            break;
          
            case 10:
              scramble = scramble + "L ";
              twoMovesAgo  = lastMove;
              lastMove = 3;
            break;
          
            case 11:
              scramble = scramble + "L2 ";
              twoMovesAgo  = lastMove;
              lastMove = 3;
            break;
          
            case 12:
              scramble = scramble + "R' ";
              twoMovesAgo  = lastMove;
              lastMove = 4;
            break;
          
            case 13:
              scramble = scramble + "R ";
              twoMovesAgo  = lastMove;
              lastMove = 4;
            break;
          
            case 14:
              scramble = scramble + "R2 ";
              twoMovesAgo  = lastMove;
              lastMove = 4;
            break;
          
            case 15:
              scramble = scramble + "D' ";
              twoMovesAgo  = lastMove;
              lastMove = 5;
            break;
          
            case 16:
              scramble = scramble + "D ";
              twoMovesAgo  = lastMove;
              lastMove = 5;
            break;
          
            case 17:
              scramble = scramble + "D2 ";
              twoMovesAgo  = lastMove;
              lastMove = 5;
            break;
          }
        }
        document.getElementById("changeScramble").innerHTML = scramble;
      }
    </script>
    <div>
      <div id="changeScramble">
        <h1></h1>
      </div>
      <div>
        <button onClick="getScramble()", class="btn">New Scramble</button>
      </div>
    </div>
  </div>
</body>